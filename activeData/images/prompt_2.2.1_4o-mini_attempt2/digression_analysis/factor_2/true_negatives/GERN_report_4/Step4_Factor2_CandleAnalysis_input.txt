System Prompt:
<Task Instructions>
You are a financial expert responsible for evaluating how a stock's technical chart, specifically candlestick patterns and volume trends, will influence the likelihood of a price increase following the release of an upcoming earnings report. Your task is to analyze the stock's short-term technical setup and estimate the probability of the stock price going up immediately after the earnings announcement.
</Task Instructions>

<Analysis Methodology>
Use the context given in <context> and the following technical analysis elements to evaluate the stock's condition:

1. Trend Determination
   - Identify whether the stock is in a short-term uptrend or downtrend.
   - Uptrend is indicated when short-term moving averages (e.g., 5-day, 10-day) are positioned above long-term averages (e.g., 60-day, 120-day).
   - Downtrend is indicated when the reverse is true.
   - Also consider recent candlestick behavior for trend confirmation.

2. Volume Trend
   - Analyze trading volume patterns.
   - If short-term average volume (e.g., 5-day, 10-day) exceeds long-term averages (e.g., 60-day, 120-day), it may indicate increased market participation and a higher prossibility of the price going up.
   - Decreasing volume may suggest reduced market interest and a lower chance of the price going up.

3. Candlestick Patterns
   - Identify any key short-term candlestick formations (e.g., Inside Day, Doji, Bullish Engulfing, Bearish Reversal).
   - For example, an Inside Day pattern on low volume suggests market indecision, and the price may go highly up or highly down after the release of new earnings report. But this indicator doesn't tell you directly which direction it will move, please refer to the other indicators to decided the direction.

4. Volatility Setup
   - Assess whether the current price structure suggests compression (low volatility) or expansion (high volatility).
   - If at high volatility stage, it is more uncertained whether the price will move up or down so your prediction of probability shouldn't be too high or low.

5. Discretionary Technical Judgment
   - Beyond the specific examples above, use your expert-level knowledge in technical analysis to evaluate the chart.
   - If a breakout is forming, or resistance/support levels are about to be tested, incorporate these insights into your probability judgment.

Combine these technical factors to make a reasoned estimate of how likely the stock is to rise post-earnings.
Probability 0.5 means either you can't judge from the given <context>, or all the above signals are fully contradictory.
Probability 1.0 means all the above signals show strong positive sign.
Probability 0.0 means all the above signals show strong negative sign.
</Analysis Methodology>

<Output Instruction>
Output the result in the following format:
Factor(up_probability = ..., reason = "...")

Where:
- up_probability is a float between 0.0 and 1.0 (e.g. 0.70 means 70% chance of rising)
- reason should summarize the technical reasoning supporting your probability estimate
</Output Instruction>

<Remarks>
- Use only the data provided in <context>.
- Do not predict the quality of earningsâ€”only how the chart suggests the market is positioned to react
- If all signals are inconclusive, set up_probability to 0.5
- Be specific in identifying chart patterns, volume shifts, and moving average behavior
- Clearly explain how the technical setup supports your directional probability estimate
</Remarks>

User Prompt:
<context>
The company name is Geron Corporation Common Stock.
The company's symbol is GERN

The company's candlestick chart including the volume is
          date  open   low  high  close    volume  daily_volatility_percentage  20_days_moving_average_of_close_price  60_days_moving_average_of_close_price  20_days_moving_average_of_volume  60_days_moving_average_of_volume  pe_ratio_transition
0   2024-08-29  4.51  4.51  4.67   4.56   6636800                     3.508769                                 4.5585                               4.584500                         8617765.0                      1.182836e+07           -12.324324
1   2024-08-30  4.56  4.55  4.79   4.75  11116000                     5.052627                                 4.5675                               4.597000                         8468545.0                      1.189160e+07           -12.837838
2   2024-09-03  4.74  4.21  4.74   4.40  20321700                    12.045448                                 4.5620                               4.605500                         8696445.0                      1.213317e+07           -11.891892
3   2024-09-04  4.36  4.24  4.39   4.29   7642700                     3.496506                                 4.5465                               4.600500                         8692530.0                      1.061158e+07           -11.594594
4   2024-09-05  4.27  4.23  4.34   4.28   4816600                     2.570096                                 4.5325                               4.587833                         7897230.0                      1.007763e+07           -11.567568
5   2024-09-06  4.27  4.21  4.34   4.25   5764300                     3.058826                                 4.5150                               4.573833                         7510250.0                      9.810765e+06           -11.486486
6   2024-09-09  4.30  4.30  4.57   4.41   8349900                     6.122449                                 4.5005                               4.562500                         7346910.0                      9.772208e+06           -11.918919
7   2024-09-10  4.40  4.28  4.43   4.34   4312200                     3.456212                                 4.4810                               4.553500                         7172545.0                      9.604192e+06           -11.729730
8   2024-09-11  4.30  4.26  4.39   4.39   5136500                     2.961267                                 4.4720                               4.545500                         7113460.0                      9.499115e+06           -11.864865
9   2024-09-12  4.39  4.36  4.54   4.45   4827800                     4.044940                                 4.4725                               4.541833                         6975545.0                      9.374380e+06           -12.027027
10  2024-09-13  4.53  4.46  4.71   4.51   9297300                     5.543237                                 4.4750                               4.542167                         7190230.0                      9.261135e+06           -12.189190
11  2024-09-16  4.50  4.34  4.53   4.37   6865000                     4.347828                                 4.4685                               4.540667                         7207620.0                      9.242153e+06           -11.810811
12  2024-09-17  4.44  4.43  4.69   4.55  11138400                     5.714291                                 4.4730                               4.539000                         7325595.0                      9.018708e+06           -12.297298
13  2024-09-18  4.56  4.47  4.67   4.52   5343200                     4.424785                                 4.4680                               4.537833                         7131590.0                      8.962405e+06           -12.216216
14  2024-09-19  4.68  4.58  4.74   4.74  12294500                     3.375524                                 4.4780                               4.541500                         7490530.0                      9.014700e+06           -12.810810
15  2024-09-20  4.75  4.70  4.83   4.71  20949200                     2.760087                                 4.4895                               4.545833                         8320570.0                      9.204090e+06           -12.729730
16  2024-09-23  4.75  4.23  4.75   4.28  12069200                    12.149532                                 4.4765                               4.543167                         8615005.0                      9.309945e+06           -11.567568
17  2024-09-24  4.31  4.30  4.60   4.60   8561800                     6.521733                                 4.4785                               4.549167                         8806840.0                      9.126953e+06           -12.432432
18  2024-09-25  4.59  4.46  4.59   4.51   4766200                     2.882486                                 4.4710                               4.552000                         8712855.0                      9.072928e+06           -12.189190
19  2024-09-26  4.60  4.38  4.60   4.43   8435100                     4.966135                                 4.4670                               4.556333                         8932220.0                      9.112222e+06           -11.972973
20  2024-09-27  4.47  4.33  4.60   4.57   9246200                     5.908096                                 4.4675                               4.559833                         9062690.0                      9.212570e+06           -12.351352
21  2024-09-30  4.56  4.49  4.65   4.54   7014700                     3.524236                                 4.4570                               4.560000                         8857625.0                      9.237820e+06           -14.187500
22  2024-10-01  4.53  4.39  4.55   4.41   7578100                     3.628125                                 4.4575                               4.558000                         8220445.0                      9.215112e+06           -13.781250
23  2024-10-02  4.38  4.26  4.47   4.44   6104200                     4.729720                                 4.4650                               4.555667                         8143520.0                      9.191223e+06           -13.875000
24  2024-10-03  4.39  4.31  4.50   4.31   6567600                     4.408354                                 4.4665                               4.550833                         8231070.0                      9.165115e+06           -13.468750
25  2024-10-04  4.33  4.27  4.39   4.32   4983500                     2.777775                                 4.4700                               4.543500                         8192030.0                      8.990932e+06           -13.500001
26  2024-10-07  4.29  4.14  4.35   4.15   7644200                     5.060242                                 4.4570                               4.534167                         8156745.0                      8.964687e+06           -12.968750
27  2024-10-08  4.16  4.15  4.34   4.27   6112800                     4.449650                                 4.4535                               4.523667                         8246775.0                      8.941193e+06           -13.343750
28  2024-10-09  4.23  4.19  4.27   4.22   4558700                     1.895733                                 4.4450                               4.510833                         8217885.0                      8.820417e+06           -13.187499
29  2024-10-10  4.20  4.18  4.37   4.33   6124500                     4.387992                                 4.4390                               4.503667                         8282720.0                      8.709737e+06           -13.531250
30  2024-10-11  4.29  4.18  4.34   4.33   7336500                     3.695158                                 4.4300                               4.498000                         8184680.0                      8.756942e+06           -13.531250
31  2024-10-14  4.29  4.12  4.30   4.14   8792700                     4.347834                                 4.4185                               4.490333                         8281065.0                      8.834112e+06           -12.937500
32  2024-10-15  4.11  4.11  4.27   4.19   5642700                     3.818612                                 4.4005                               4.482167                         8006280.0                      8.837953e+06           -13.093750
33  2024-10-16  4.23  4.12  4.25   4.17   9873800                     3.117509                                 4.3830                               4.474667                         8232810.0                      8.822540e+06           -13.031250
34  2024-10-17  4.14  3.91  4.15   4.06  12711500                     5.911330                                 4.3490                               4.470833                         8253660.0                      8.709133e+06           -12.687500
35  2024-10-18  4.06  3.91  4.12   4.09   9608100                     5.134469                                 4.3180                               4.467500                         7686605.0                      8.745090e+06           -12.781250
36  2024-10-21  4.07  3.92  4.10   3.95   7316600                     4.556958                                 4.3015                               4.455667                         7448975.0                      8.652325e+06           -12.343750
37  2024-10-22  3.91  3.87  4.04   4.01   9209200                     4.239403                                 4.2720                               4.444333                         7481345.0                      8.564877e+06           -12.531251
38  2024-10-23  4.00  3.91  4.08   4.07   5150500                     4.176900                                 4.2500                               4.434000                         7500560.0                      8.508642e+06           -12.718751
39  2024-10-24  4.08  3.97  4.12   4.00   5134200                     3.749996                                 4.2285                               4.421667                         7335515.0                      8.438057e+06           -12.500000
40  2024-10-25  3.98  3.88  4.10   4.06   5778400                     5.418714                                 4.2030                               4.409667                         7162125.0                      8.280860e+06           -12.687500
41  2024-10-28  4.10  4.08  4.25   4.22   7940400                     4.028438                                 4.1870                               4.403833                         7208410.0                      8.178193e+06           -13.187499
42  2024-10-29  4.19  4.18  4.28   4.26   3746800                     2.347427                                 4.1795                               4.399667                         7016845.0                      7.977912e+06           -13.312501
43  2024-10-30  4.22  4.13  4.29   4.15   3851200                     3.855418                                 4.1650                               4.392167                         6904195.0                      7.913415e+06           -12.968750
44  2024-10-31  4.12  4.08  4.20   4.11   4653600                     2.919705                                 4.1550                               4.384667                         6808495.0                      7.645598e+06           -12.843750
45  2024-11-01  4.12  4.01  4.31   4.11   8092600                     7.299263                                 4.1445                               4.376500                         6963950.0                      7.555410e+06           -12.843750
46  2024-11-04  4.08  3.98  4.26   4.25   7033200                     6.588240                                 4.1495                               4.369000                         6933400.0                      7.479018e+06           -13.281250
47  2024-11-05  4.30  4.12  4.32   4.22   6029100                     4.739344                                 4.1470                               4.360500                         6929215.0                      7.449512e+06           -13.187499
48  2024-11-06  4.35  4.26  4.41   4.27  13020100                     3.512872                                 4.1495                               4.355500                         7352285.0                      7.561210e+06           -13.343750
49  2024-11-07  4.50  4.15  4.50   4.29  38433500                     8.158506                                 4.1475                               4.353000                         8967735.0                      8.075333e+06           -13.406250
50  2024-11-08  4.21  4.15  4.33   4.25  12139000                     4.235290                                 4.1435                               4.349500                         9207860.0                      8.194257e+06           -13.281250
51  2024-11-11  4.19  4.09  4.26   4.12   8361800                     4.126216                                 4.1425                               4.343167                         9186315.0                      8.225000e+06           -12.875000
52  2024-11-12  4.10  3.95  4.21   3.97  11414700                     6.549118                                 4.1315                               4.335000                         9474915.0                      8.268930e+06           -12.406250
53  2024-11-13  3.97  3.82  4.05   3.87  11956400                     5.943159                                 4.1165                               4.322500                         9579045.0                      8.314482e+06           -12.093750
54  2024-11-14  3.86  3.68  3.95   3.71  10041600                     7.277627                                 4.0990                               4.308667                         9445550.0                      8.396580e+06           -11.593750
55  2024-11-15  3.73  3.63  3.78   3.66  10517100                     4.098357                                 4.0775                               4.295000                         9491000.0                      8.499392e+06           -11.437500
56  2024-11-18  3.69  3.60  3.86   3.78  11558800                     6.878307                                 4.0690                               4.282333                         9703110.0                      8.589030e+06           -11.812500
57  2024-11-19  3.73  3.64  3.80   3.79  11486600                     4.221632                                 4.0580                               4.269500                         9816980.0                      8.701722e+06           -11.843750
58  2024-11-20  3.76  3.73  4.00   3.99   9507600                     6.766917                                 4.0540                               4.258333                        10034835.0                      8.749417e+06           -12.468750
59  2024-11-21  4.04  3.96  4.05   4.02   6806700                     2.238810                                 4.0550                               4.250167                        10118460.0                      8.795398e+06           -12.562500
60  2024-11-22  3.98  3.96  4.11   4.07   6849200                     3.685506                                 4.0555                               4.242000                        10172000.0                      8.798938e+06           -12.718751
61  2024-11-25  4.10  4.08  4.20   4.10   7697900                     2.926827                                 4.0495                               4.231167                        10159875.0                      8.741970e+06           -12.812500
62  2024-11-26  4.01  4.01  4.11   4.06   3781100                     2.463052                                 4.0395                               4.225500                        10161590.0                      8.466293e+06           -12.687500
63  2024-11-27  4.06  4.00  4.21   4.17   6472400                     5.035972                                 4.0405                               4.223500                        10292650.0                      8.446788e+06           -13.031250
64  2024-11-29  4.17  4.04  4.20   4.12   3512700                     3.883492                                 4.0410                               4.220833                        10235605.0                      8.425057e+06           -12.875000
65  2024-12-02  4.10  4.00  4.12   4.04   4313000                     2.970294                                 4.0375                               4.217333                        10046625.0                      8.400868e+06           -12.625000
66  2024-12-03  4.00  3.90  4.02   3.95   3126100                     3.037972                                 4.0225                               4.209667                         9851270.0                      8.313805e+06           -12.343750
67  2024-12-04  3.95  3.91  4.08   4.00   3412400                     4.249996                                 4.0115                               4.204000                         9720435.0                      8.298808e+06           -12.500000
68  2024-12-05  3.98  3.94  4.06   3.98   6363800                     3.015072                                 3.9970                               4.197167                         9387620.0                      8.319263e+06           -12.437500
69  2024-12-06  3.98  3.91  4.03   3.93   3502700                     3.053438                                 3.9790                               4.188500                         7641080.0                      8.297178e+06           -12.281250
70  2024-12-09  3.93  3.90  4.09   3.98   7537100                     4.773871                                 3.9655                               4.179667                         7410985.0                      8.267842e+06           -12.437500
71  2024-12-10  3.98  3.92  4.01   3.99   5143600                     2.255643                                 3.9590                               4.173333                         7250075.0                      8.239152e+06           -12.468750
72  2024-12-11  3.98  3.93  4.05   3.98   5925700                     3.015078                                 3.9595                               4.163833                         6975625.0                      8.152273e+06           -12.437500
73  2024-12-12  3.98  3.83  4.01   3.92  10761300                     4.591844                                 3.9620                               4.153833                         6915870.0                      8.242575e+06           -12.250000
74  2024-12-13  3.98  3.75  4.00   3.86  11294100                     6.476684                                 3.9695                               4.139167                         6978495.0                      8.225902e+06           -12.062500
75  2024-12-16  3.87  3.76  3.87   3.81  10755500                     2.887136                                 3.9770                               4.124167                         6990415.0                      8.056007e+06           -11.906250
76  2024-12-17  3.77  3.77  4.00   3.93   8190300                     5.852418                                 3.9845                               4.118333                         6821990.0                      7.991358e+06           -12.281250
77  2024-12-18  3.95  3.72  3.99   3.77   7685300                     7.161803                                 3.9835                               4.104500                         6631925.0                      7.976750e+06           -11.781250
78  2024-12-19  3.78  3.65  3.80   3.66   8397600                     4.098357                                 3.9670                               4.090333                         6576425.0                      8.037273e+06           -11.437500
79  2024-12-20  3.61  3.46  3.69   3.49  26318700                     6.590258                                 3.9405                               4.074667                         7552025.0                      8.335333e+06           -10.906250
80  2024-12-23  3.49  3.30  3.50   3.34  18863500                     5.988026                                 3.9040                               4.054167                         8152740.0                      8.495622e+06           -10.437500
81  2024-12-24  3.34  3.28  3.35   3.34   5595700                     2.095806                                 3.8660                               4.034167                         8047630.0                      8.471972e+06           -10.437500
82  2024-12-26  3.30  3.26  3.34   3.30  20869300                     2.424240                                 3.8280                               4.015667                         8902040.0                      8.693492e+06           -10.312500
83  2024-12-27  3.29  3.20  3.40   3.35  34022900                     5.970151                                 3.7870                               3.997500                        10279565.0                      9.158803e+06           -10.468750
84  2024-12-30  3.34  3.23  3.43   3.40  23769700                     5.882354                                 3.7510                               3.982333                        11292415.0                      9.445505e+06           -10.625000
85  2024-12-31  3.41  3.40  3.57   3.54  14035700                     4.802255                                 3.7260                               3.969333                        11778550.0                      9.596375e+06           -13.111111
86  2025-01-02  3.57  3.53  3.63   3.60  11319400                     2.777782                                 3.7085                               3.960167                        12188215.0                      9.657628e+06           -13.333333
87  2025-01-03  3.63  3.54  3.68   3.57  17807700                     3.921572                                 3.6870                               3.948500                        12907980.0                      9.852543e+06           -13.222222
88  2025-01-06  3.55  3.37  3.59   3.43  16892500                     6.413995                                 3.6595                               3.935333                        13434415.0                      1.005811e+07           -12.703704
89  2025-01-07  3.45  3.37  3.50   3.40   7215000                     3.823533                                 3.6330                               3.919833                        13620030.0                      1.007628e+07           -12.592593
90  2025-01-08  3.39  3.36  3.46   3.42   8039000                     2.923981                                 3.6050                               3.904667                        13645125.0                      1.008799e+07           -12.666667
91  2025-01-10  3.38  3.15  3.45   3.17  17981000                     9.463721                                 3.5640                               3.888500                        14286995.0                      1.024113e+07           -11.740741
92  2025-01-13  3.10  2.80  3.10   2.98  23394900                    10.067112                                 3.5140                               3.868333                        15160455.0                      1.053700e+07           -11.037037
93  2025-01-14  3.02  2.87  3.09   2.94  12409800                     7.482994                                 3.4650                               3.847833                        15242880.0                      1.057926e+07           -10.888889
94  2025-01-15  3.01  2.96  3.09   3.01   6594800                     4.318933                                 3.4225                               3.830333                        15007915.0                      1.047732e+07           -11.148148
95  2025-01-16  2.99  2.91  3.03   2.92   6008300                     4.109585                                 3.3780                               3.810833                        14770555.0                      1.041732e+07           -10.814815
96  2025-01-17  2.92  2.85  2.99   2.89   8638000                     4.844294                                 3.3260                               3.793167                        14792940.0                      1.043935e+07           -10.703704
97  2025-01-21  2.95  2.90  3.00   2.96   6254700                     3.378375                                 3.2855                               3.775667                        14721410.0                      1.039010e+07           -10.962963
98  2025-01-22  2.98  2.95  3.07   2.99   5675800                     4.013374                                 3.2520                               3.757667                        14585320.0                      1.039886e+07           -11.074074
99  2025-01-23  2.95  2.90  3.03   3.02   5039800                     4.304632                                 3.2285                               3.741333                        13521375.0                      1.039729e+07           -11.185185
100 2025-01-24  3.02  2.98  3.12   3.01   6682400                     4.651158                                 3.2120                               3.723833                        12912320.0                      1.041235e+07           -11.148148
101 2025-01-27  3.00  2.92  3.09   2.96   6722900                     5.743238                                 3.1930                               3.702833                        12968680.0                      1.039206e+07           -10.962963
102 2025-01-28  2.95  2.92  3.04   3.00   7403900                     3.999996                                 3.1780                               3.681833                        12295410.0                      1.045301e+07           -11.111111
103 2025-01-29  2.99  2.86  3.04   2.89  10568300                     6.228376                                 3.1550                               3.660833                        11122680.0                      1.056496e+07           -10.703704
104 2025-01-30  2.89  2.79  2.92   2.88  10059600                     4.513893                                 3.1290                               3.640333                        10437175.0                      1.065506e+07           -10.666667
105 2025-01-31  2.89  2.85  2.95   2.87  10687500                     3.484326                                 3.0955                               3.619667                        10269765.0                      1.069831e+07           -10.629629
106 2025-02-03  2.81  2.78  2.92   2.85  19332000                     4.912285                                 3.0580                               3.596333                        10670395.0                      1.090329e+07           -10.555555
107 2025-02-04  2.85  2.82  2.94   2.91  11349800                     4.123715                                 3.0250                               3.574500                        10347500.0                      1.099197e+07           -10.777778
108 2025-02-05  2.91  2.88  3.09   3.02  16987200                     6.953636                                 3.0045                               3.553667                        10352235.0                      1.105809e+07           -11.185185
109 2025-02-06  3.03  2.92  3.03   2.93   6999500                     3.754263                                 2.9810                               3.531000                        10341460.0                      1.053419e+07           -10.851852
110 2025-02-07  2.92  2.84  2.96   2.93  10491000                     4.095567                                 2.9565                               3.509000                        10464060.0                      1.050672e+07           -10.851852
111 2025-02-10  2.92  2.76  2.96   2.82  20335500                     7.092200                                 2.9390                               3.487333                        10581785.0                      1.070628e+07           -10.444444
112 2025-02-11  2.79  2.75  2.83   2.79   8977600                     2.867381                                 2.9295                               3.467667                         9860920.0                      1.066567e+07           -10.333333
113 2025-02-12  2.73  2.70  2.82   2.79  14990500                     4.301071                                 2.9220                               3.449667                         9989955.0                      1.071624e+07           -10.333333
114 2025-02-13  2.81  2.73  2.83   2.79  12498200                     3.584226                                 2.9110                               3.434333                        10285125.0                      1.075718e+07           -10.333333
115 2025-02-14  2.80  2.52  2.84   2.56  23222000                    12.499998                                 2.8930                               3.416000                        11145810.0                      1.096893e+07            -9.481481
116 2025-02-18  2.54  2.54  2.70   2.63  18320000                     6.083653                                 2.8800                               3.396833                        11629910.0                      1.108161e+07            -9.740741
117 2025-02-19  2.60  2.52  2.63   2.54  11995300                     4.330714                                 2.8590                               3.376000                        11916940.0                      1.109009e+07            -9.407407
118 2025-02-20  2.54  2.49  2.65   2.63  10987100                     6.083653                                 2.8410                               3.353333                        12182505.0                      1.111475e+07            -9.740741
119 2025-02-21  2.64  2.56  2.66   2.57   8958600                     3.891056                                 2.8185                               3.329167                        12378445.0                      1.115062e+07            -9.518518
120 2025-02-24  2.56  2.38  2.58   2.39  18438000                     8.368192                                 2.7875                               3.301167                        12966225.0                      1.134376e+07            -8.851852
121 2025-02-25  2.37  2.32  2.42   2.37  16198600                     4.219416                                 2.7580                               3.272333                        13440010.0                      1.148544e+07            -8.777777
</context>
