System Prompt:
<Task Instructions>
You are a financial expert responsible for evaluating how a stock's technical chart, specifically candlestick patterns and volume trends, will influence the likelihood of a price increase following the release of an upcoming earnings report. Your task is to analyze the stock's short-term technical setup and estimate the probability of the stock price going up immediately after the earnings announcement.
</Task Instructions>

<Analysis Methodology>
Use the context given in <context> and the following technical analysis elements to evaluate the stock's condition:

1. Trend Determination
   - Identify whether the stock is in a short-term uptrend or downtrend.
   - Uptrend is indicated when short-term moving averages (e.g., 5-day, 10-day) are positioned above long-term averages (e.g., 60-day, 120-day).
   - Downtrend is indicated when the reverse is true.
   - Also consider recent candlestick behavior for trend confirmation.

2. Volume Trend
   - Analyze trading volume patterns.
   - If short-term average volume (e.g., 5-day, 10-day) exceeds long-term averages (e.g., 60-day, 120-day), it may indicate increased market participation and a higher prossibility of the price going up.
   - Decreasing volume may suggest reduced market interest and a lower chance of the price going up.

3. Candlestick Patterns
   - Identify any key short-term candlestick formations (e.g., Inside Day, Doji, Bullish Engulfing, Bearish Reversal).
   - For example, an Inside Day pattern on low volume suggests market indecision, and the price may go highly up or highly down after the release of new earnings report. But this indicator doesn't tell you directly which direction it will move, please refer to the other indicators to decided the direction.

4. Volatility Setup
   - Assess whether the current price structure suggests compression (low volatility) or expansion (high volatility).
   - If at high volatility stage, it is more uncertained whether the price will move up or down so your prediction of probability shouldn't be too high or low.

5. Discretionary Technical Judgment
   - Beyond the specific examples above, use your expert-level knowledge in technical analysis to evaluate the chart.
   - If a breakout is forming, or resistance/support levels are about to be tested, incorporate these insights into your probability judgment.

Combine these technical factors to make a reasoned estimate of how likely the stock is to rise post-earnings.
Probability 0.5 means either you can't judge from the given <context>, or all the above signals are fully contradictory.
Probability 1.0 means all the above signals show strong positive sign.
Probability 0.0 means all the above signals show strong negative sign.
</Analysis Methodology>

<Output Instruction>
Output the result in the following format:
Factor(up_probability = ..., reason = "...")

Where:
- up_probability is a float between 0.0 and 1.0 (e.g. 0.70 means 70% chance of rising)
- reason should summarize the technical reasoning supporting your probability estimate
</Output Instruction>

<Remarks>
- Use only the data provided in <context>.
- Do not predict the quality of earningsâ€”only how the chart suggests the market is positioned to react
- If all signals are inconclusive, set up_probability to 0.5
- Be specific in identifying chart patterns, volume shifts, and moving average behavior
- Clearly explain how the technical setup supports your directional probability estimate
</Remarks>

User Prompt:
<context>
The company name is Five Below Inc. Common Stock.
The company's symbol is FIVE

The company's candlestick chart including the volume is
          date        open         low        high       close   volume  daily_volatility_percentage  20_days_moving_average_of_close_price  60_days_moving_average_of_close_price  20_days_moving_average_of_volume  60_days_moving_average_of_volume  pe_ratio_transition
0   2023-12-07  201.580002  195.449997  203.039993  195.929993   793500                     3.873831                             188.278501                             173.240334                          879070.0                      9.054750e+05            40.481403
1   2023-12-08  195.270004  193.520004  197.179993  194.830002   432600                     1.878555                             189.226001                             173.807500                          876785.0                      8.907933e+05            40.254133
2   2023-12-11  195.970001  195.789993  199.059998  197.449997   400900                     1.656118                             190.263501                             174.448334                          873520.0                      8.742483e+05            40.795454
3   2023-12-12  196.970001  195.500000  198.720001  196.389999   578800                     1.639595                             191.480501                             175.097667                          865370.0                      8.645450e+05            40.576446
4   2023-12-13  197.809998  194.559998  202.369995  201.539993   646900                     3.875160                             192.441500                             175.839000                          858040.0                      8.645433e+05            41.640494
5   2023-12-14  204.570007  200.750000  206.309998  200.979996   858400                     2.766443                             193.287000                             176.609334                          845460.0                      8.697917e+05            41.524793
6   2023-12-15  201.130005  192.809998  201.169998  194.360001  1715200                     4.301297                             194.005000                             177.357667                          902705.0                      8.819983e+05            40.157025
7   2023-12-18  194.449997  189.089996  194.559998  190.600006  1048800                     2.869885                             194.467500                             178.069667                          919040.0                      8.825383e+05            39.380167
8   2023-12-19  193.270004  192.330002  198.190002  197.970001   803200                     2.960045                             195.116499                             178.901334                          927955.0                      8.803483e+05            40.902893
9   2023-12-20  197.240005  194.899994  198.789993  195.029999   519400                     1.994565                             195.537499                             179.718500                          915250.0                      8.768517e+05            40.295454
10  2023-12-21  197.000000  195.919998  199.490005  199.100006   558800                     1.793072                             195.942500                             180.518834                          903685.0                      8.651200e+05            41.136365
11  2023-12-22  198.039993  198.039993  203.009995  202.699997   568700                     2.451900                             196.527999                             181.274834                          915680.0                      8.481217e+05            41.880165
12  2023-12-26  204.580002  203.619995  210.570007  210.360001   993000                     3.303866                             197.495999                             182.099167                          905835.0                      8.302233e+05            43.462810
13  2023-12-27  210.360001  210.160004  213.690002  212.699997   532800                     1.659614                             198.555499                             183.017167                          872870.0                      8.230250e+05            43.946280
14  2023-12-28  213.009995  212.770004  215.820007  213.839996   551500                     1.426301                             199.844499                             183.984000                          804060.0                      8.182700e+05            44.181817
15  2023-12-29  213.820007  211.449997  214.600006  213.160004   474600                     1.477767                             201.079499                             184.868667                          716420.0                      8.133617e+05            44.041323
16  2024-01-02  210.860001  210.539993  216.179993  215.509995   758800                     2.617048                             201.864999                             185.732500                          702695.0                      8.059150e+05            44.526858
17  2024-01-03  213.160004  204.289993  214.570007  204.690002   914100                     5.022236                             202.027499                             186.437167                          710305.0                      8.081850e+05            42.291323
18  2024-01-04  205.350006  203.990005  207.970001  204.960007   829500                     1.941840                             202.181999                             187.101834                          724475.0                      8.058200e+05            42.347109
19  2024-01-05  202.679993  199.580002  204.869995  200.839996   808700                     2.633934                             202.146999                             187.691167                          739410.0                      8.024117e+05            41.495867
20  2024-01-08  191.500000  188.149994  196.970001  192.880005  1942800                     4.572795                             201.994500                             188.151501                          796875.0                      8.209417e+05            39.851241
21  2024-01-09  191.300003  188.850006  192.559998  191.009995   702900                     1.942302                             201.803500                             188.616834                          810390.0                      8.203000e+05            39.464875
22  2024-01-10  190.149994  189.539993  193.000000  191.729996   567300                     1.804625                             201.517500                             189.073501                          818710.0                      8.185017e+05            39.613635
23  2024-01-11  191.220001  187.619995  191.350006  190.050003   529100                     1.962647                             201.200500                             189.387001                          816225.0                      8.091583e+05            39.266530
24  2024-01-12  191.009995  187.869995  192.490005  190.589996   454600                     2.424057                             200.653000                             189.624834                          806610.0                      8.004083e+05            39.378098
25  2024-01-16  186.529999  184.339996  190.199997  190.009995   804300                     3.084049                             200.104500                             189.860334                          803905.0                      8.025567e+05            39.258263
26  2024-01-17  188.919998  187.509995  189.639999  189.259995   545700                     1.125439                             199.849500                             190.065000                          745430.0                      8.004583e+05            39.103305
27  2024-01-18  190.169998  186.649994  190.770004  188.880005   550800                     2.181285                             199.763499                             190.280500                          720530.0                      7.956167e+05            39.024794
28  2024-01-19  189.460007  183.610001  189.460007  186.720001   902900                     3.133037                             199.200999                             190.461167                          725515.0                      7.947750e+05            38.578513
29  2024-01-22  187.320007  183.429993  187.460007  187.149994   667300                     2.153360                             198.806999                             190.626333                          732910.0                      7.966200e+05            38.667354
30  2024-01-23  188.880005  185.169998  189.919998  188.210007   778200                     2.523777                             198.262499                             190.812833                          743880.0                      8.030817e+05            38.886365
31  2024-01-24  189.320007  185.509995  189.570007  186.330002   552100                     2.178937                             197.443999                             191.024833                          743050.0                      7.968833e+05            38.497934
32  2024-01-25  186.619995  185.600006  191.860001  191.800003   728600                     3.263814                             196.516000                             191.392167                          729830.0                      7.894683e+05            39.628100
33  2024-01-26  192.259995  189.229996  193.289993  190.160004   588800                     2.135043                             195.389000                             191.688167                          732630.0                      7.803700e+05            39.289257
34  2024-01-29  190.000000  185.179993  190.869995  186.910004   857300                     3.044247                             194.042500                             191.903667                          747920.0                      7.832683e+05            38.617769
35  2024-01-30  184.470001  181.630005  185.809998  182.740005  1320900                     2.287399                             192.521500                             192.046167                          790235.0                      7.895150e+05            37.756199
36  2024-01-31  182.880005  179.320007  182.880005  179.460007   712500                     1.983728                             190.719001                             192.096834                          787920.0                      7.894817e+05            33.110702
37  2024-02-01  181.339996  177.610001  182.690002  182.539993  1086700                     2.782953                             189.611501                             192.183834                          796550.0                      7.928400e+05            33.678966
38  2024-02-02  180.360001  176.580002  183.880005  181.110001   658600                     4.030701                             188.419000                             192.252500                          788005.0                      7.919617e+05            33.415129
39  2024-02-05  179.229996  177.000000  179.229996  178.690002   401700                     1.247969                             187.311501                             192.261501                          767655.0                      7.886083e+05            32.968635
40  2024-02-06  178.100006  177.720001  181.880005  181.399994   622000                     2.293277                             186.737500                             192.336834                          701615.0                      7.925200e+05            33.468634
41  2024-02-07  181.789993  180.470001  184.240005  182.710007   406000                     2.063381                             186.322501                             192.450667                          686770.0                      7.913150e+05            33.710333
42  2024-02-08  183.520004  183.229996  186.740005  186.100006   587400                     1.886088                             186.041001                             192.607334                          687775.0                      7.933350e+05            34.335794
43  2024-02-09  186.720001  185.509995  191.119995  188.949997   728500                     2.969040                             185.986001                             192.889000                          697745.0                      7.931133e+05            34.861623
44  2024-02-12  189.630005  188.770004  190.800003  189.360001   423100                     1.072031                             185.924501                             193.006334                          696170.0                      7.869400e+05            34.937269
45  2024-02-13  184.089996  181.229996  187.729996  184.130005   666900                     3.530114                             185.630502                             193.007334                          689300.0                      7.795550e+05            33.972326
46  2024-02-14  185.000000  182.270004  186.630005  185.830002   434900                     2.346231                             185.459002                             193.104500                          683760.0                      7.772983e+05            34.285978
47  2024-02-15  187.770004  187.059998  191.830002  189.559998   474700                     2.516356                             185.493002                             193.241334                          679955.0                      7.731750e+05            34.974169
48  2024-02-16  189.119995  187.949997  192.479996  190.009995   492300                     2.384084                             185.657501                             193.325000                          659425.0                      7.709650e+05            35.057195
49  2024-02-20  189.639999  188.429993  193.250000  191.850006   401200                     2.512383                             185.892502                             193.412333                          646120.0                      7.647600e+05            35.396680
50  2024-02-21  191.850006  188.580002  192.509995  189.660004   377300                     2.072125                             185.965002                             193.390000                          626075.0                      7.578800e+05            34.992621
51  2024-02-22  190.649994  188.529999  193.330002  192.660004   449800                     2.491437                             186.281502                             193.417833                          620960.0                      7.598967e+05            35.546126
52  2024-02-23  192.789993  192.539993  194.699997  193.470001   259800                     1.116454                             186.365002                             193.459000                          597520.0                      7.443950e+05            35.695572
53  2024-02-26  193.020004  192.649994  198.949997  196.000000   663200                     3.214287                             186.657001                             193.533834                          601240.0                      7.355800e+05            36.162362
54  2024-02-27  196.779999  196.779999  201.899994  200.779999   533100                     2.550052                             187.350501                             193.745834                          585030.0                      7.123367e+05            37.044280
55  2024-02-28  199.449997  198.470001  201.550003  199.339996   369400                     1.545100                             188.180501                             193.927167                          537455.0                      6.813700e+05            36.778597
56  2024-02-29  200.389999  197.610001  201.360001  200.679993   443000                     1.868647                             189.241500                             193.941833                          523980.0                      6.715317e+05            37.025829
57  2024-03-01  201.850006  200.220001  203.869995  200.809998   519800                     1.817636                             190.155000                             193.931333                          495635.0                      6.674967e+05            37.049815
58  2024-03-04  201.809998  201.229996  203.990005  203.330002   388200                     1.357404                             191.266000                             193.955667                          482115.0                      6.648650e+05            37.514760
59  2024-03-05  203.399994  202.750000  207.639999  204.919998   523400                     2.386297                             192.577500                             194.012000                          488200.0                      6.650883e+05            37.808118
60  2024-03-06  205.990005  204.889999  208.710007  208.179993   924400                     1.834954                             193.916500                             194.216167                          503320.0                      6.672700e+05            38.409593
61  2024-03-07  209.000000  205.529999  212.009995  206.960007   861500                     3.131038                             195.129000                             194.418333                          526095.0                      6.744183e+05            38.184503
62  2024-03-08  208.619995  204.139999  209.350006  204.820007   528600                     2.543700                             196.065000                             194.541167                          523155.0                      6.765467e+05            37.789669
63  2024-03-11  203.529999  200.660004  204.309998  203.580002   670500                     1.792904                             196.796500                             194.661000                          520255.0                      6.780750e+05            37.560886
64  2024-03-12  203.309998  203.059998  209.789993  209.339996   496100                     3.214864                             197.795500                             194.791000                          523905.0                      6.755617e+05            38.623616
65  2024-03-13  205.520004  203.490005  207.869995  206.500000   631100                     2.121060                             198.914000                             194.883000                          522115.0                      6.717733e+05            38.099631
66  2024-03-14  208.059998  198.539993  208.759995  201.550003   760100                     5.070703                             199.700000                             195.002834                          538375.0                      6.558550e+05            37.186347
67  2024-03-15  200.210007  198.800003  202.809998  201.570007   944800                     1.989381                             200.300500                             195.185667                          561880.0                      6.541217e+05            37.190038
68  2024-03-18  202.000000  200.759995  207.529999  205.899994  1019100                     3.288006                             201.095000                             195.317834                          588220.0                      6.577200e+05            37.988929
69  2024-03-19  207.369995  203.240005  207.800003  206.660004   833200                     2.206522                             201.835500                             195.511667                          609820.0                      6.629500e+05            38.129152
70  2024-03-20  207.490005  206.100006  209.789993  208.970001  1283600                     1.765798                             202.801000                             195.676167                          655135.0                      6.750300e+05            38.555351
71  2024-03-21  183.000000  175.330002  187.830002  176.789993  3865900                     7.070536                             202.007500                             195.244334                          825940.0                      7.299833e+05            32.618080
72  2024-03-22  177.500000  169.940002  177.800003  170.990005  1829400                     4.596760                             200.883500                             194.588167                          904420.0                      7.439233e+05            31.547971
73  2024-03-25  171.490005  171.490005  176.500000  173.880005  1639200                     2.881294                             199.777500                             193.941167                          953220.0                      7.623633e+05            32.081182
74  2024-03-26  175.089996  174.240005  179.639999  178.050003   904200                     3.032852                             198.641000                             193.344667                          971775.0                      7.682417e+05            32.850554
75  2024-03-27  179.610001  178.789993  185.479996  183.860001  1135600                     3.638639                             197.867001                             192.856334                         1010085.0                      7.792583e+05            33.922509
76  2024-03-28  184.720001  181.160004  184.770004  181.380005   628500                     1.990297                             196.902001                             192.287501                         1019360.0                      7.770867e+05            33.464946
77  2024-04-01  182.570007  177.720001  182.990005  178.880005   871600                     2.946111                             195.805502                             191.857334                         1036950.0                      7.763783e+05            33.003691
78  2024-04-02  177.550003  170.940002  177.550003  171.130005  1422500                     3.862561                             194.195502                             191.293501                         1088665.0                      7.862617e+05            31.573802
79  2024-04-03  170.020004  164.199997  170.339996  164.740005  1566900                     3.727085                             192.186502                             190.691834                         1140840.0                      7.988983e+05            30.394835
80  2024-04-04  165.660004  163.600006  166.559998  163.990005  1760300                     1.804983                             189.977003                             190.210334                         1182635.0                      7.958567e+05            30.256459
81  2024-04-05  164.259995  162.649994  165.669998  162.770004  1159500                     1.855381                             187.767503                             189.739668                         1197535.0                      8.034667e+05            30.031366
82  2024-04-08  162.770004  159.880005  164.050003  160.330002  1412500                     2.600885                             185.543002                             189.216335                         1241730.0                      8.175533e+05            29.581181
83  2024-04-09  160.389999  158.029999  161.929993  159.580002  1398000                     2.443911                             183.343002                             188.708501                         1278105.0                      8.320350e+05            29.442805
84  2024-04-10  157.360001  155.789993  161.869995  160.229996  1380100                     3.794547                             180.887502                             188.202501                         1322305.0                      8.474600e+05            29.562730
85  2024-04-11  161.330002  159.619995  163.320007  163.000000  1103300                     2.269946                             178.712502                             187.752335                         1345915.0                      8.524433e+05            30.073801
86  2024-04-12  161.190002  157.279999  162.919998  157.479996  1541200                     3.581407                             176.509002                             187.222668                         1384970.0                      8.690350e+05            29.055350
87  2024-04-15  159.100006  152.199997  159.800003  152.809998  1208200                     4.973501                             174.071001                             186.621501                         1398140.0                      8.799917e+05            28.193726
88  2024-04-16  153.509995  148.679993  153.610001  149.300003  1427200                     3.302082                             171.241002                             185.997835                         1418545.0                      8.887300e+05            27.546126
89  2024-04-17  150.869995  150.529999  153.759995  152.100006  1078300                     2.123600                             168.513002                             185.413668                         1430800.0                      8.955800e+05            28.062732
90  2024-04-18  152.949997  151.550003  154.470001  152.000000   897100                     1.921051                             165.664502                             184.810168                         1411475.0                      8.975617e+05            28.044280
91  2024-04-19  150.960007  149.059998  152.529999  150.289993   873500                     2.308870                             164.339502                             184.209501                         1261855.0                      9.029183e+05            27.728781
92  2024-04-22  150.559998  146.929993  151.490005  148.610001  1074300                     3.068443                             163.220502                             183.489668                         1224100.0                      9.086800e+05            27.418819
93  2024-04-23  145.250000  145.029999  149.970001  147.789993  1242100                     3.342582                             161.916001                             182.783501                         1204245.0                      9.195683e+05            27.267526
94  2024-04-24  147.000000  146.000000  149.199997  148.539993   718000                     2.154300                             160.440501                             182.144001                         1194935.0                      9.172467e+05            27.405903
95  2024-04-25  150.300003  148.669998  151.649994  150.850006  1029300                     1.975469                             158.790001                             181.612501                         1189620.0                      9.123867e+05            27.832104
96  2024-04-26  150.250000  149.240005  151.949997  150.080002   699900                     1.805698                             157.225001                             181.122834                         1193190.0                      9.121767e+05            27.690037
97  2024-04-29  150.089996  146.330002  150.880005  147.220001   801800                     3.090615                             155.642001                             180.534167                         1189700.0                      9.074283e+05            27.162362
98  2024-04-30  146.199997  146.000000  147.690002  146.339996   705900                     1.154847                             154.402500                             179.954667                         1153870.0                      9.082167e+05            27.353270
99  2024-05-01  146.000000  140.190002  146.199997  141.929993  1100300                     4.234478                             153.262000                             179.342001                         1130540.0                      9.198600e+05            26.528971
100 2024-05-02  143.119995  142.020004  144.539993  143.470001   734100                     1.756457                             152.235999                             178.709834                         1079230.0                      9.217283e+05            26.816823
101 2024-05-03  144.520004  143.809998  147.639999  144.809998   825200                     2.644846                             151.337999                             178.078167                         1062515.0                      9.287150e+05            27.067289
102 2024-05-06  145.619995  143.960007  146.970001  146.020004   625100                     2.061358                             150.622499                             177.410167                         1023145.0                      9.293433e+05            27.293459
103 2024-05-07  145.710007  144.600006  146.949997  146.740005   780700                     1.601466                             149.980499                             176.706667                          992280.0                      9.302133e+05            27.428038
104 2024-05-08  145.949997  141.210007  145.949997  142.100006   618400                     3.335672                             149.074000                             175.919001                          954195.0                      9.334683e+05            26.560749
105 2024-05-09  141.649994  141.119995  144.479996  143.479996   748400                     2.341790                             148.098000                             175.241501                          936450.0                      9.348267e+05            26.818691
106 2024-05-10  143.250000  139.160004  143.710007  139.199997  1061500                     3.268680                             147.184000                             174.464334                          912465.0                      9.452700e+05            26.018691
107 2024-05-13  141.220001  139.190002  144.279999  140.029999  1317200                     3.634933                             146.545000                             173.638834                          917915.0                      9.593117e+05            26.173832
108 2024-05-14  141.570007  139.940002  143.059998  141.990005   761000                     2.197334                             146.179500                             172.838501                          884605.0                      9.637900e+05            26.540188
109 2024-05-15  142.389999  140.389999  143.360001  140.669998   590200                     2.111325                             145.607999                             171.985501                          860200.0                      9.669400e+05            26.293458
110 2024-05-16  141.559998  140.940002  145.000000  141.029999   773100                     2.878818                             145.059499                             171.175001                          854000.0                      9.735367e+05            26.360747
111 2024-05-17  140.000000  137.350006  140.740005  137.539993   780800                     2.464737                             144.421999                             170.256334                          849365.0                      9.790533e+05            25.708410
112 2024-05-20  137.229996  132.800003  137.669998  133.809998  1024800                     3.639485                             143.681999                             169.262000                          846890.0                      9.918033e+05            25.011214
113 2024-05-21  134.539993  131.669998  134.679993  132.000000  1152500                     2.280299                             142.892500                             168.195334                          842410.0                      9.999583e+05            24.672897
114 2024-05-22  130.000000  128.639999  132.070007  131.729996  1254000                     2.603817                             142.052000                             167.044500                          869210.0                      1.011973e+06            24.622429
115 2024-05-23  132.080002  129.470001  132.240005  129.600006   747600                     2.137349                             140.989500                             165.882167                          855125.0                      1.018277e+06            24.224300
116 2024-05-24  129.839996  129.839996  133.830002  132.990005  1118500                     3.000230                             140.135000                             164.754001                          876055.0                      1.029535e+06            24.857945
117 2024-05-28  133.630005  131.679993  134.649994  132.740005  1043000                     2.237458                             139.411000                             163.619501                          888115.0                      1.038255e+06            24.811216
118 2024-05-29  130.990005  130.899994  132.580002  131.699997   919900                     1.275632                             138.679000                             162.425667                          898815.0                      1.047117e+06            24.616822
119 2024-05-30  133.300003  133.270004  135.500000  134.710007  1049500                     1.655405                             138.318001                             161.255501                          896275.0                      1.055885e+06            25.179441
120 2024-05-31  134.710007  134.710007  138.190002  138.130005   825700                     2.519363                             138.051001                             160.088001                          900855.0                      1.054240e+06            25.818693
121 2024-06-03  138.570007  138.570007  141.699997  140.750000  1168000                     2.223794                             137.848001                             158.984501                          917995.0                      1.059348e+06            26.308411
122 2024-06-04  138.660004  136.119995  140.509995  137.869995  1280300                     3.184159                             137.440501                             157.868667                          950755.0                      1.071877e+06            25.770093
</context>
