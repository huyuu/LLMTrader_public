System Prompt:
<Task Instructions>
You are a financial expert responsible for evaluating how a stock's technical chart, specifically candlestick patterns and volume trends, will influence the likelihood of a price increase following the release of an upcoming earnings report. Your task is to analyze the stock's short-term technical setup and estimate the probability of the stock price going up immediately after the earnings announcement.
</Task Instructions>

<Analysis Methodology>
Use the context given in <context> and the following technical analysis elements to evaluate the stock's condition:

1. Trend Determination
   - Identify whether the stock is in a short-term uptrend or downtrend.
   - Uptrend is indicated when short-term moving averages (e.g., 5-day, 10-day) are positioned above long-term averages (e.g., 60-day, 120-day).
   - Downtrend is indicated when the reverse is true.
   - Also consider recent candlestick behavior for trend confirmation.

2. Volume Trend
   - Analyze trading volume patterns.
   - If short-term average volume (e.g., 5-day, 10-day) exceeds long-term averages (e.g., 60-day, 120-day), it may indicate increased market participation and a higher prossibility of the price going up.
   - Decreasing volume may suggest reduced market interest and a lower chance of the price going up.

3. Candlestick Patterns
   - Identify any key short-term candlestick formations (e.g., Inside Day, Doji, Bullish Engulfing, Bearish Reversal).
   - For example, an Inside Day pattern on low volume suggests market indecision, and the price may go highly up or highly down after the release of new earnings report. But this indicator doesn't tell you directly which direction it will move, please refer to the other indicators to decided the direction.

4. Volatility Setup
   - Assess whether the current price structure suggests compression (low volatility) or expansion (high volatility).
   - If at high volatility stage, it is more uncertained whether the price will move up or down so your prediction of probability shouldn't be too high or low.

5. Discretionary Technical Judgment
   - Beyond the specific examples above, use your expert-level knowledge in technical analysis to evaluate the chart.
   - If a breakout is forming, or resistance/support levels are about to be tested, incorporate these insights into your probability judgment.

Combine these technical factors to make a reasoned estimate of how likely the stock is to rise post-earnings.
Probability 0.5 means either you can't judge from the given <context>, or all the above signals are fully contradictory.
Probability 1.0 means all the above signals show strong positive sign.
Probability 0.0 means all the above signals show strong negative sign.
</Analysis Methodology>

<Output Instruction>
Output the result in the following format:
Factor(up_probability = ..., reason = "...")

Where:
- up_probability is a float between 0.0 and 1.0 (e.g. 0.70 means 70% chance of rising)
- reason should summarize the technical reasoning supporting your probability estimate
</Output Instruction>

<Remarks>
- Use only the data provided in <context>.
- Do not predict the quality of earningsâ€”only how the chart suggests the market is positioned to react
- If all signals are inconclusive, set up_probability to 0.5
- Be specific in identifying chart patterns, volume shifts, and moving average behavior
- Clearly explain how the technical setup supports your directional probability estimate
</Remarks>

User Prompt:
<context>
The company name is AST SpaceMobile Inc. Class A Common Stock.
The company's symbol is ASTS

The company's candlestick chart including the volume is
          date   open    low   high  close    volume  daily_volatility_percentage  20_days_moving_average_of_close_price  60_days_moving_average_of_close_price  20_days_moving_average_of_volume  60_days_moving_average_of_volume  pe_ratio_transition
0   2023-11-16  4.650  4.410  4.745  4.570   2118800                     7.330416                                3.66000                               3.695833                         2403045.0                      1.824252e+06            -5.440476
1   2023-11-17  4.590  4.590  4.890  4.830   2301100                     6.211174                                3.75500                               3.714833                         2443430.0                      1.835040e+06            -5.750000
2   2023-11-20  4.850  4.710  4.890  4.780   1370100                     3.765687                                3.85700                               3.732000                         2359215.0                      1.840438e+06            -5.690476
3   2023-11-21  4.770  4.250  4.770  4.310   2367900                    12.064965                                3.92900                               3.737167                         2417020.0                      1.859380e+06            -5.130952
4   2023-11-22  4.380  4.220  4.475  4.350   2107800                     5.862072                                4.00050                               3.742500                         2429165.0                      1.874625e+06            -5.178571
5   2023-11-24  4.330  4.180  4.900  4.840   2303600                    14.876038                                4.08000                               3.757167                         2434255.0                      1.897523e+06            -5.761905
6   2023-11-27  4.725  4.520  4.790  4.760   1604200                     5.672268                                4.16550                               3.771167                         2457200.0                      1.912615e+06            -5.666667
7   2023-11-28  4.730  4.500  4.770  4.580   1479700                     5.895196                                4.23250                               3.781000                         2452760.0                      1.919588e+06            -5.452381
8   2023-11-29  4.660  4.650  5.030  5.020   2232600                     7.569723                                4.31800                               3.800000                         2489885.0                      1.940643e+06            -5.976190
9   2023-11-30  5.080  4.800  5.148  4.850   1509300                     7.175249                                4.38700                               3.815833                         2497860.0                      1.942450e+06            -5.773809
10  2023-12-01  4.880  4.760  5.195  5.180   1738300                     8.397683                                4.45750                               3.838833                         2489400.0                      1.955215e+06            -6.166666
11  2023-12-04  5.190  4.930  5.470  4.950   3545200                    10.909091                                4.49800                               3.857333                         2465175.0                      1.998180e+06            -5.892857
12  2023-12-05  4.950  4.710  4.990  4.830   1403100                     5.797096                                4.53900                               3.873000                         2464090.0                      2.007395e+06            -5.750000
13  2023-12-06  4.880  4.830  5.220  5.100   1391000                     7.647056                                4.59550                               3.890500                         2454515.0                      2.006478e+06            -6.071428
14  2023-12-07  5.120  4.980  5.130  5.110   1010200                     2.935423                                4.64650                               3.908667                         2428175.0                      1.999688e+06            -6.083333
15  2023-12-08  5.110  5.081  5.550  5.480   1999300                     8.558400                                4.71400                               3.936000                         2419095.0                      2.007103e+06            -6.523810
16  2023-12-11  5.500  5.145  5.500  5.240   1606100                     6.774810                                4.76050                               3.959333                         2412740.0                      1.944212e+06            -6.238095
17  2023-12-12  5.220  5.015  5.240  5.140   1263400                     4.377430                                4.81750                               3.981500                         2293985.0                      1.950603e+06            -6.119047
18  2023-12-13  5.140  5.010  5.265  5.240   1721500                     4.866406                                4.89100                               3.999833                         2161145.0                      1.888302e+06            -6.238095
19  2023-12-14  5.350  5.300  5.540  5.490   1491400                     4.371581                                4.93250                               4.024000                         1828230.0                      1.874827e+06            -6.535714
20  2023-12-15  5.580  5.350  5.620  5.440   2036700                     4.963235                                4.97600                               4.051167                         1824125.0                      1.863703e+06            -6.476191
21  2023-12-18  5.390  5.120  5.400  5.320   1690300                     5.263162                                5.00050                               4.074500                         1793585.0                      1.874527e+06            -6.333334
22  2023-12-19  5.370  5.324  5.570  5.560   1383800                     4.424466                                5.03950                               4.104333                         1794270.0                      1.865893e+06            -6.619048
23  2023-12-20  5.530  5.155  5.530  5.170   2240300                     7.253385                                5.08250                               4.129833                         1787890.0                      1.879977e+06            -6.154762
24  2023-12-21  5.290  5.270  5.840  5.810   2569200                     9.810674                                5.15550                               4.165000                         1810960.0                      1.905855e+06            -6.916667
25  2023-12-22  5.790  5.680  6.095  6.070   2600400                     6.836902                                5.21700                               4.204333                         1825800.0                      1.929237e+06            -7.226191
26  2023-12-26  6.100  5.967  6.300  6.190   1808500                     5.379647                                5.28850                               4.244167                         1836015.0                      1.943733e+06            -7.369048
27  2023-12-27  6.190  6.190  6.710  6.360   3079900                     8.176100                                5.37750                               4.288167                         1916025.0                      1.978108e+06            -7.571429
28  2023-12-28  6.320  6.030  6.360  6.180   1594000                     5.339805                                5.43550                               4.330500                         1884095.0                      1.982527e+06            -7.357143
29  2023-12-29  6.140  5.745  6.140  6.030   2497800                     6.550580                                5.49450                               4.368000                         1933520.0                      2.006532e+06            -7.178572
30  2024-01-02  5.860  4.600  5.863  4.850   6285200                    26.041238                                5.47800                               4.386333                         2160865.0                      2.101057e+06            -4.619048
31  2024-01-03  5.030  4.860  5.130  4.930   2925300                     5.476673                                5.47700                               4.406500                         2129870.0                      2.134462e+06            -4.695238
32  2024-01-04  4.930  4.820  5.039  4.820   1897600                     4.543565                                5.47650                               4.432333                         2154595.0                      2.119930e+06            -4.590476
33  2024-01-05  4.810  4.720  5.110  5.010   1501600                     7.784438                                5.47200                               4.455667                         2160125.0                      2.115212e+06            -4.771429
34  2024-01-08  5.020  4.780  5.020  4.940   1494200                     4.858295                                5.46350                               4.480667                         2184325.0                      2.115700e+06            -4.704762
35  2024-01-09  4.910  4.809  5.020  4.890   1024800                     4.314928                                5.43400                               4.508000                         2135600.0                      2.110032e+06            -4.657143
36  2024-01-10  4.900  4.805  5.010  4.950   1738100                     4.141422                                5.41950                               4.539500                         2142200.0                      2.106577e+06            -4.714286
37  2024-01-11  4.880  4.200  4.880  4.270   4229700                    15.925066                                5.37600                               4.557833                         2290515.0                      2.150410e+06            -4.066667
38  2024-01-12  4.340  4.130  4.520  4.165   2337700                     9.363742                                5.32225                               4.571917                         2321325.0                      2.170850e+06            -3.966667
39  2024-01-16  4.170  4.020  4.195  4.130   1607800                     4.237293                                5.25425                               4.589250                         2327145.0                      2.181222e+06            -3.933333
40  2024-01-17  4.060  4.020  4.410  4.280   2673400                     9.112146                                5.19625                               4.610750                         2358980.0                      2.195383e+06            -4.076191
41  2024-01-18  4.350  3.940  4.460  4.160  10205200                    12.500000                                5.13825                               4.631250                         2784725.0                      2.340580e+06            -3.961905
42  2024-01-19  3.370  3.050  3.470  3.090  44477300                    13.592236                                5.01475                               4.637083                         4939400.0                      3.030962e+06            -2.942857
43  2024-01-22  3.280  3.060  3.350  3.100  10325800                     9.354838                                4.91125                               4.640917                         5343675.0                      3.182862e+06            -2.952381
44  2024-01-23  3.130  2.970  3.210  3.120  13234800                     7.692308                                4.77675                               4.644250                         5876955.0                      3.372360e+06            -2.971428
45  2024-01-24  3.210  3.050  3.271  3.080   5925600                     7.175323                                4.62725                               4.641417                         6043215.0                      3.434423e+06            -2.933333
46  2024-01-25  3.080  2.935  3.100  2.950   4302000                     5.593219                                4.46525                               4.639750                         6167890.0                      3.487035e+06            -2.809524
47  2024-01-26  2.990  2.770  3.040  2.790   6339000                     9.677419                                4.28675                               4.632250                         6330845.0                      3.566543e+06            -2.657143
48  2024-01-29  2.850  2.760  3.080  3.070   5425800                    10.423451                                4.13125                               4.628250                         6522435.0                      3.632138e+06            -2.923809
49  2024-01-30  3.090  2.900  3.170  2.920   3772600                     9.246574                                3.97575                               4.619083                         6586175.0                      3.672518e+06            -2.780952
50  2024-01-31  2.950  2.865  3.080  2.870   3446200                     7.491287                                3.87675                               4.604083                         6444225.0                      3.698163e+06            -2.733333
51  2024-02-01  2.940  2.780  2.950  2.900   3137800                     5.862071                                3.77525                               4.583417                         6454850.0                      3.683298e+06            -2.761905
52  2024-02-02  2.890  2.785  2.890  2.840   2575600                     3.697184                                3.67625                               4.563917                         6488750.0                      3.702478e+06            -2.704762
53  2024-02-05  2.900  2.720  2.900  2.770   2450800                     6.498197                                3.56425                               4.543917                         6536210.0                      3.716950e+06            -2.638095
54  2024-02-06  2.780  2.740  2.916  2.880   1865200                     6.111107                                3.46125                               4.523750                         6554760.0                      3.722420e+06            -2.742857
55  2024-02-07  2.860  2.590  2.860  2.605   4429300                    10.364682                                3.34700                               4.498333                         6724985.0                      3.759893e+06            -2.480952
56  2024-02-08  2.830  2.770  3.180  3.180   8298600                    12.893084                                3.25850                               4.479500                         7053010.0                      3.869317e+06            -3.028571
57  2024-02-09  3.250  3.180  3.460  3.430   5507000                     8.163264                                3.21650                               4.470000                         7116875.0                      3.900458e+06            -3.266667
58  2024-02-12  3.570  3.460  3.700  3.520   5042100                     6.818182                                3.18425                               4.465833                         7252095.0                      3.911522e+06            -3.352381
59  2024-02-13  3.360  3.160  3.420  3.170   3088000                     8.201892                                3.13625                               4.441000                         7326105.0                      3.827160e+06            -3.019048
60  2024-02-14  3.270  3.160  3.360  3.320   2132600                     6.024091                                3.08825                               4.420167                         7299065.0                      3.827390e+06            -3.161905
61  2024-02-15  3.350  3.270  3.490  3.410   2860300                     6.451614                                3.05075                               4.396500                         6931820.0                      3.836710e+06            -3.247619
62  2024-02-16  3.500  3.401  3.520  3.430   2999700                     3.469386                                3.06775                               4.374000                         4857940.0                      3.863870e+06            -3.266667
63  2024-02-20  3.450  3.290  3.510  3.320   3121000                     6.626507                                3.07875                               4.357500                         4497700.0                      3.876422e+06            -3.161905
64  2024-02-21  3.300  3.120  3.300  3.160   2739300                     5.696204                                3.08075                               4.337667                         3972925.0                      3.886947e+06            -3.009524
65  2024-02-22  3.250  3.065  3.270  3.090   3233500                     6.634302                                3.08125                               4.308500                         3838320.0                      3.902445e+06            -2.942857
66  2024-02-23  3.120  2.940  3.130  2.950   3847600                     6.440680                                3.08125                               4.278333                         3815600.0                      3.939835e+06            -2.809524
67  2024-02-26  3.010  2.935  3.220  3.200   2563600                     8.906253                                3.10175                               4.255333                         3626830.0                      3.957900e+06            -3.047619
68  2024-02-27  3.240  3.240  3.400  3.380   2854500                     4.733730                                3.11725                               4.228000                         3498265.0                      3.968265e+06            -3.219048
69  2024-02-28  3.300  3.150  3.310  3.190   2917500                     5.015669                                3.13075                               4.200333                         3455510.0                      3.991735e+06            -3.038095
70  2024-02-29  3.240  3.170  3.298  3.170   1887000                     4.037855                                3.14575                               4.166833                         3377550.0                      3.994213e+06            -3.019048
71  2024-03-01  3.200  3.110  3.325  3.210   2058000                     6.697824                                3.16125                               4.137833                         3323560.0                      3.969427e+06            -3.057143
72  2024-03-04  3.250  3.090  3.250  3.120   2413800                     5.128208                                3.17525                               4.109333                         3315470.0                      3.986272e+06            -2.971428
73  2024-03-05  3.120  3.000  3.120  3.010   2401900                     3.986707                                3.18725                               4.074500                         3313025.0                      4.003120e+06            -2.866667
74  2024-03-06  3.150  3.065  3.190  3.100   2521300                     4.032258                                3.19825                               4.041000                         3345830.0                      4.028305e+06            -2.952381
75  2024-03-07  3.100  2.930  3.180  2.950   3219100                     8.474576                                3.21550                               3.998833                         3285320.0                      4.048635e+06            -2.809524
76  2024-03-08  3.050  3.000  3.190  3.010   3611000                     6.312294                                3.20700                               3.961667                         3050940.0                      4.082050e+06            -2.866667
77  2024-03-11  3.020  3.015  3.115  3.050   2926800                     3.278685                                3.18800                               3.926833                         2921930.0                      4.109773e+06            -2.904762
78  2024-03-12  3.050  2.920  3.090  2.980   3374700                     5.704693                                3.16100                               3.889167                         2838560.0                      4.137327e+06            -2.838095
79  2024-03-13  3.010  2.955  3.390  3.100   5922400                    14.032264                                3.15750                               3.849333                         2980280.0                      4.211177e+06            -2.952381
80  2024-03-14  3.150  3.000  3.160  3.040   3451900                     5.263161                                3.14350                               3.809333                         3046245.0                      4.234763e+06            -2.895238
81  2024-03-15  3.030  3.000  3.220  3.140  10445400                     7.006370                                3.13000                               3.773000                         3425500.0                      4.380682e+06            -2.990476
82  2024-03-18  3.210  2.960  3.210  2.970   4602300                     8.417508                                3.10700                               3.729833                         3505630.0                      4.434323e+06            -2.828571
83  2024-03-19  2.980  2.830  2.980  2.860   3011900                     5.244759                                3.08400                               3.691333                         3500175.0                      4.447183e+06            -2.723809
84  2024-03-20  2.910  2.850  2.980  2.950   3278400                     4.406783                                3.07350                               3.643667                         3527130.0                      4.459003e+06            -2.809524
85  2024-03-21  2.925  2.764  2.970  2.780   4358700                     7.410075                                3.05800                               3.588833                         3583390.0                      4.488308e+06            -2.647619
86  2024-03-22  2.850  2.710  2.860  2.760   3285500                     5.434777                                3.04850                               3.531667                         3555285.0                      4.512925e+06            -2.628571
87  2024-03-25  2.750  2.740  2.865  2.840   2527000                     4.401409                                3.03050                               3.473000                         3553455.0                      4.503710e+06            -2.704762
88  2024-03-26  2.880  2.810  2.890  2.810   1992700                     2.846981                                3.00200                               3.416833                         3510365.0                      4.510355e+06            -2.676190
89  2024-03-27  2.830  2.770  2.900  2.860   2312400                     4.545459                                2.98550                               3.364000                         3480110.0                      4.507265e+06            -2.723809
90  2024-03-28  2.920  2.870  3.100  2.900   3986200                     7.931035                                2.97200                               3.331500                         3585070.0                      4.468948e+06            -2.761905
91  2024-04-01  2.930  2.610  2.950  2.630   7887700                    12.927762                                2.94300                               3.293167                         3876555.0                      4.551655e+06            -2.683674
92  2024-04-02  2.340  1.970  2.360  2.010  11977700                    19.402979                                2.88750                               3.246333                         4354750.0                      4.719657e+06            -2.051020
93  2024-04-03  2.020  1.980  2.320  2.320   7915500                    14.655169                                2.85300                               3.201500                         4630430.0                      4.826555e+06            -2.367347
94  2024-04-04  2.390  2.250  2.430  2.250   4792300                     8.000003                                2.81050                               3.156667                         4743980.0                      4.881523e+06            -2.295918
95  2024-04-05  2.270  2.180  2.300  2.205   2777300                     5.442172                                2.77325                               3.111917                         4721890.0                      4.910732e+06            -2.250000
96  2024-04-08  2.260  2.221  2.320  2.270   2012100                     4.361233                                2.73625                               3.067250                         4641945.0                      4.915298e+06            -2.316327
97  2024-04-09  2.280  2.260  2.350  2.310   1350000                     3.896100                                2.69925                               3.034583                         4563105.0                      4.867303e+06            -2.357143
98  2024-04-10  2.250  2.100  2.250  2.140   3501700                     7.009350                                2.65725                               3.000833                         4569455.0                      4.886703e+06            -2.183674
99  2024-04-11  2.170  2.050  2.190  2.110   2554000                     6.635076                                2.60775                               2.967167                         4401035.0                      4.902473e+06            -2.153061
100 2024-04-12  2.110  2.070  2.200  2.130   3180300                     6.103291                                2.56225                               2.931333                         4387455.0                      4.910922e+06            -2.173470
101 2024-04-15  2.160  2.080  2.190  2.080   2368500                     5.288468                                2.50925                               2.896667                         3983610.0                      4.780310e+06            -2.122449
102 2024-04-16  2.070  1.990  2.080  2.020   2569900                     4.455441                                2.46175                               2.878833                         3881990.0                      4.081853e+06            -2.061224
103 2024-04-17  2.060  2.030  2.100  2.050   1585700                     3.414631                                2.42125                               2.861333                         3810680.0                      3.936185e+06            -2.091837
104 2024-04-18  2.040  2.040  2.210  2.140   3126600                     7.943928                                2.38075                               2.845000                         3803090.0                      3.767715e+06            -2.183674
105 2024-04-19  2.100  2.075  2.145  2.090   2368200                     3.349279                                2.34625                               2.828500                         3703565.0                      3.708425e+06            -2.132653
106 2024-04-22  2.100  2.065  2.180  2.160   3122900                     5.324074                                2.31625                               2.815333                         3695435.0                      3.688773e+06            -2.204082
107 2024-04-23  2.150  2.110  2.210  2.150   2239600                     4.651169                                2.28175                               2.804667                         3681065.0                      3.620450e+06            -2.193878
108 2024-04-24  2.160  2.120  2.210  2.140   1521300                     4.205614                                2.24825                               2.789167                         3657495.0                      3.555375e+06            -2.183674
109 2024-04-25  2.110  2.100  2.200  2.190   1736500                     4.566216                                2.21475                               2.777000                         3628700.0                      3.521440e+06            -2.234694
110 2024-04-26  2.175  2.170  2.250  2.230   1430300                     3.587440                                2.18125                               2.766333                         3500905.0                      3.487842e+06            -2.275510
111 2024-04-29  2.260  2.240  2.380  2.330   1833900                     6.008588                                2.16625                               2.756833                         3198215.0                      3.466110e+06            -2.377551
112 2024-04-30  2.290  2.200  2.305  2.210   1493600                     4.751132                                2.17625                               2.746333                         2674010.0                      3.448077e+06            -2.255102
113 2024-05-01  2.180  2.170  2.350  2.260   1440000                     7.964594                                2.17325                               2.737833                         2350235.0                      3.431230e+06            -2.306122
114 2024-05-02  2.290  2.250  2.355  2.300   1474100                     4.565218                                2.17575                               2.728167                         2184325.0                      3.424712e+06            -2.346939
115 2024-05-03  2.330  2.325  2.480  2.450   2748000                     6.326529                                2.18800                               2.725583                         2182860.0                      3.396690e+06            -2.500000
116 2024-05-06  2.460  2.460  2.600  2.480   1704000                     5.645156                                2.19850                               2.713917                         2167455.0                      3.286780e+06            -2.530612
117 2024-05-07  2.420  2.304  2.450  2.320   1474300                     6.293110                                2.19900                               2.695417                         2173670.0                      3.219568e+06            -2.367347
118 2024-05-08  2.310  2.251  2.350  2.300    999900                     4.304347                                2.20700                               2.675083                         2048580.0                      3.152198e+06            -2.346939
119 2024-05-09  2.300  2.240  2.360  2.360   1249000                     5.084741                                2.21950                               2.661583                         1983330.0                      3.121548e+06            -2.408163
120 2024-05-10  2.370  2.260  2.450  2.260   1318400                     8.407082                                2.22600                               2.643917                         1890235.0                      3.107978e+06            -2.306122
121 2024-05-13  2.290  2.120  2.315  2.240   3457300                     8.705365                                2.23400                               2.624417                         1944675.0                      3.117928e+06            -2.285714
122 2024-05-14  2.250  2.250  2.580  2.510   4175500                    13.147407                                2.25850                               2.609083                         2024955.0                      3.137525e+06            -2.561224
</context>
